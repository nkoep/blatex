% Copyright (c) 2015 Niklas Koep
%
% This software may be modified and distributed under the terms of the MIT
% license. See the LICENSE file for details.

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{bladraft}[2015/03/18 v0.1]

\newif\if@lineno\@linenofalse
\DeclareOption{lineno}{
  \@linenotrue
}

\ProcessOptions\relax

% TODO
% % Source position listing in the margin
% \usepackage[excludeor]{everyhook}
% \usepackage{marginnote}
% \newif\ifnotmarginhook
% \notmarginhooktrue
% \PushPostHook{par}{%
%   \ifnotmarginhook
%     \notmarginhookfalse
%     \marginnote{\small\ttfamily\the\inputlineno}
%     \notmarginhooktrue
%   \fi
% }

% FIXME: This fails to compile if we don't pass the lineno option.
\if@lineno
  \usepackage[pagewise,switch]{lineno}
  \linenumbers
\fi

\endinput

