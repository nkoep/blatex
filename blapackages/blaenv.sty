% Copyright (c) 2015-2017 Niklas Koep
%
% This software may be modified and distributed under the terms of the MIT
% license. See the LICENSE file for details.

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{blaenv}[2015/03/18 v0.1]

\ProcessOptions\relax

% AMS theorem configuration
\usepackage{amsthm}

\ifx\thechapter\undefined
  \def\@basecounter{section}
\else
  \def\@basecounter{chapter}
\fi
\newtheorem{definition}{Definition}[\@basecounter]
\newtheorem{proposition}{Proposition}[\@basecounter]
\newtheorem{corollary}{Corollary}[\@basecounter]
\newtheorem{lemma}{Lemma}[\@basecounter]
\newtheorem{theorem}{Theorem}[\@basecounter]

% Define a separate style for examples and remarks with non-italic font style.
\newtheoremstyle{blaplain}{}{}{}{}{\bfseries}{.}{ }{}
\theoremstyle{blaplain}
\newtheorem{example}{Example}[\@basecounter]
\newtheorem{remark}{Remark}[\@basecounter]

% AMS theorem environments
\DeclareDocumentCommand{\Thm}{m o +m}{%
  \IfValueTF
    {#2}
    {\begin{#1}[#2]#3\end{#1}}
    {\begin{#1}#3\end{#1}}
}

% Convenience macros for theorem environments
\newcommand{\Definition}[2][]{\Thm{definition}[#1]{#2}}
\newcommand{\Proposition}[2][]{\Thm{proposition}[#1]{#2}}
\newcommand{\Example}[2][]{\Thm{example}[#1]{#2}}
\newcommand{\Corollary}[2][]{\Thm{corollary}[#1]{#2}}
\newcommand{\Lemma}[2][]{\Thm{lemma}[#1]{#2}}
\newcommand{\Theorem}[2][]{\Thm{theorem}[#1]{#2}}
\newcommand{\Remark}[2][]{\Thm{remark}[#1]{#2}}
\DeclareDocumentCommand{\Proof}{o +m}{%
  \IfValueTF
    {#1}
    {\begin{proof}[Proof~#1]#2\end{proof}}
    {\begin{proof}#2\end{proof}}
}

% Generic environments
\newcommand{\Env}[2]{\begin{#1}#2\end{#1}}

\endinput
